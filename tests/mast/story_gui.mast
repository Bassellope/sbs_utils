import tests/mast/bar.mast
~~~~~~~~~~~~~~~~
# Example of embedded python script
@export()
def test_func(a,b):
    return a + b

@export()
class MyShip(Npc):
    pass

free = 99
export_var("free", free)
~~~~~~~~~~~~~~~~

shared alisa = "ter #6d8b01 3 0;ter #6d8b01 4 1;ter #6d8b01 4 3;ter #CC9966 8 4 6 -2;ter #fff 13 0 14 -2;ter #fff 3 6;"
shared frank = "ter #f2efee 0 0;ter #f2efee 2 0;ter #f2efee 0 3;ter #fff 12 1 14 -2;ter #fff 2 6;ter #3d0463 9 0 12 4;"
shared mission_started = False


long_text = """  kjlkjkljll;jl

;jljlkkhkjhkhkj
"""

learn = True


->Briefing

================== Briefing ================

area 20 10 60 90


face alisa
"""""""""""""""""""""""""""""""""
Welcome to the TSN {test_func(2,5)} {free}
I'm Captain Alisa. I've been running things in this sector for 10 years. We run a tight sector.
I don't take any crap and I do not like people who lie and disobey orders out of a matter of principle.
"""""""""""""""""""""""""""""""""


row

"""""""""""""""""""""""""""""""""
Hi, I'm Captain frank. Alisa isn't that bad once you get to know her.

You're in for an adventure

Have you ever flown a spaceship?
"""""""""""""""""""""""""""""""""

face frank


section
area 60 10 100 90

blank
row
ship Battle Cruiser
row
blank
"""""""""""""""""""""""""""""""""
This is your first ship
"""""""""""""""""""""""""""""""""
blank



+ "Yes.." -> YouLied if learn == True
+ "Yes.." -> YouTrained if learn == False
+ "Ready to learn" -> Learn
+ "Bar" ->> GotoBar
+ "HUD" ->> Hud
+ "Exit" ->END
choose
# This is for the bar/hud when they pops
->Briefing


=================== YouLied ========

area 20 10 100 90
face alisa

""""""""""""""""""""""""""""""""""""""""""""""
I will not tolerate those who are untruthful.

You should board the next shuttle and get the hell out of my sector
"""""""""""""""""""""""""""""""""""""""""""


+ "Exit" ->END
choose


============== YouTrained =========

area 20 10 100 90

face alisa

"""""""""""""""""""""""""""""""""
Congratulations!

Your training is complete

You're ready to command your own ship.

Good luck
"""""""""""""""""""""""""""""""""

+ "Resume Mission" -> ResumeMission if mission_started==True
+ "Start Mission" -> StartMission if mission_started==False

choose

================= StartMission ==============================

simulation create
shared mission_started = True
->>MapStuff
->ResumeMission

================= ResumeMission ==============================
simulation resume
->YouTrained

==================           Learn     ===========
x = 0
area 20 20 100 40

learn = False

button "Test 1" -> Learn
button "Test 2" ->Learn
button "Test 3" -> Learn
button "Test 4" ->Learn
row
button "Test 5" -> Learn
button "Test 6" ->Learn
button "Test 7" -> Learn
button "Test 8" ->Learn
row
button "Test 9" -> Briefing
button "Test 10" -> Briefing
slider fred 0.0 1.0 0.5
checkbox wilma "Yaba"

+ "exit" ->END
choose

====================== NoChoice ======================

->END


====================== MapStuff ======================
shared player = PlayerShip().spawn(sim, 0, 0, 0,"Artemis", "tsn", "Battle Cruiser")
shared tsn =  [
    Npc().spawn(sim, 1000, 0, 1000, "TSN0", "tsn", "Battle Cruiser", "behav_npcship").py_object,
    Npc().spawn(sim ,1200, 0, 1000, "TSN1", "tsn", "Battle Cruiser", "behav_npcship").py_object,
    Npc().spawn(sim, 1400, 0, 1000, "TSN2", "tsn", "Battle Cruiser", "behav_npcship").py_object
    ]

<<-


===================== Hud ============

# This is a way to 'flatten out' a nested loop
fred = itertools.product(range(4), range(4))
x_y = next(fred, False)

---------( x_y )---------
y = x_y[0]
x = x_y[1]
f = "hud #fff {x} {y}"
face f
x_y = next(fred, False)
--------loop----------------


row
face "hud #fff 0 1"
face "hud #fff 1 1"
face "hud #fff 2 1"
face "hud #fff 3 1"
face "hud #fff 4 1"

row
face "hud #fff 0 2"
face "hud #fff 1 2"
face "hud #fff 2 2"
face "hud #fff 3 2"
face "hud #fff 4 2"





+ "Back" <<-
choose