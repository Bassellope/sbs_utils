
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../python/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>Language - SBS Utils library Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#what-is-mast" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SBS Utils library Documentation" class="md-header__button md-logo" aria-label="SBS Utils library Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SBS Utils library Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Language
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Mast

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cosmos/" class="md-tabs__link">
          
  
    
  
  Cosmos

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorial/" class="md-tabs__link">
          
  
    
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
    
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SBS Utils library Documentation" class="md-nav__button md-logo" aria-label="SBS Utils library Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    SBS Utils library Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Mast
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Mast
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Language
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Language
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mast-execution-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Mast execution flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mast-and-pymast" class="md-nav__link">
    <span class="md-ellipsis">
      Mast and PyMast
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mast-and-pausing-the-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Mast and pausing the flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sub-plots-aka-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Sub plots aka Tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schedulers" class="md-nav__link">
    <span class="md-ellipsis">
      Schedulers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schedulers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-events-vs-label-and-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      XML Events vs label, and tasks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-data-vs-xml-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Setting data vs. XML Variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delaying-things-and-xml-timers" class="md-nav__link">
    <span class="md-ellipsis">
      Delaying things and XML Timers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../behavior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Behavior trees
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cosmos/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cosmos
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Cosmos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/comms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Science
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gui
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/world_building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    World Building
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cosmos/routes/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Routing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Routing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/routes/lifetime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing Lifetime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/routes/console/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing console
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cosmos/routes/damage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing damage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/gui/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    gui
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            gui
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/gui/simple_gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    simple
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/comms/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    comms
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            comms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/comms/simple_comms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    simple
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/comms/complex_comms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    complex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/comms/simple_grid.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    grid
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/science/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    science
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/science/simple_science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    simple
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/ai/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ai/simple_ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    simple
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ai/complex_ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    complex
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/damage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    damage
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            damage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/engine/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Engine
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Engine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/engine/sbs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sbs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/utility/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Utility
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Utility
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utility/faces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    faces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utility/scatter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scatter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utility/vec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vec3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/procedural/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Procedural
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4" id="__nav_5_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Procedural
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/procedural/gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gui
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/procedural/query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/procedural/roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    roles
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/dispatch/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Dispatch
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_5" id="__nav_5_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Dispatch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dispatch/tick_dispatcher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TickDispatcher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dispatch/damage_dispatcher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DamageDispatcher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dispatch/console_dispatcher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConsoleDispatcher
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mast-execution-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Mast execution flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mast-and-pymast" class="md-nav__link">
    <span class="md-ellipsis">
      Mast and PyMast
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mast-and-pausing-the-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Mast and pausing the flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sub-plots-aka-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Sub plots aka Tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schedulers" class="md-nav__link">
    <span class="md-ellipsis">
      Schedulers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schedulers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-events-vs-label-and-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      XML Events vs label, and tasks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-data-vs-xml-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Setting data vs. XML Variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delaying-things-and-xml-timers" class="md-nav__link">
    <span class="md-ellipsis">
      Delaying things and XML Timers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="what-is-mast">What is Mast</h1>
<p>Mast is an abbreviation for Multiple Agent Story Telling. It is for writing in a narrative flow that tells a 'story'. The stroy has multiple agents: players, non-player characters, etc. Each of these agents have their own story and those stories can have multiple side plots.</p>
<p>Stories have a forward moving flow. There is a beginning, a middle and an end. Mast has a programming flow that keep the story moving forward. Mast also allows for interactive narrative this allows for choice and branching of the story, revisiting aspects of the story etc. With this it still flows the story on a single path.</p>
<p>Mast in Artemis Cosmos the multiple agents are the player consoles, the ships and various characters that can be on ships, etc. Artemis cosmos has the ability to add much more characters to the game. For example there can be multiple characters on a space stations that you may interact with. The Damage Control teams can have richer stories and each can be unique.</p>
<p>Mast provides and new simple programming language that enables:</p>
<ul>
<li>Language that flows more like a narrative or film script</li>
<li>Easy and rich GUIs for the pause scene and the Artemis Cosmos consoles</li>
<li>a Task/State Driven system managing multiple tasks in parallel e.g. a quest with side quests</li>
<li>Behavior tree for complex AI and Dialogs</li>
<li>I similar to Visual Novel systems e.g. RenPy, Inkle Ink, and Choice script</li>
</ul>
<h2 id="mast-execution-flow">Mast execution flow</h2>
<p>The goal of Mast is to enable non-programmers to be productive in creating interactive narratives.</p>
<p>The Mast language is a programming language that strips many of the programming language concepts that make writing interactive narratives difficult as well a simplified syntax.</p>
<p>The intent is to be approachable to non-programmers. It is not intended to be 'structured' programming language like C++ or Python. </p>
<p>The flow of mast is similar to the original BASIC programming langauge. The code executes moving forward, it can branch by jumping to new locations (labels). This can be called 'unstructured' programming. Mast was also influenced by choice script, Inkle's Ink, and others.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">mast</label><label for="__tabbed_1_2">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>========= start =======
log &quot;Hello, world&quot;
-&gt; goodbye
====== not_here =======
log &quot;I get jumped over&quot;
======= goodbye =======
log &quot;Goodbye&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Hello, world
Goodbye
</code></pre></div>
</div>
</div>
</div>
<h2 id="mast-and-pymast">Mast and PyMast</h2>
<p>Mast is a standalone language running inside of the python system provided by Artemis Cosmos.</p>
<p>PyMast is python code that runs using the Mast execution flow. This gives python programmers the benefits of Mast's simple flow while enabling greater access to the native python.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Mast</label><label for="__tabbed_2_2">Python Mast</label><label for="__tabbed_2_3">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>========= start =======
log &quot;Hello, world&quot;
-&gt; goodbye
====== not_here =======
log &quot;I get jumped over&quot;
======= goodbye =======
log &quot;Goodbye&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>class Story(PyMastStory):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

    @label()
    def start(self):
        print(&quot;Hello, world&quot;)
        yield self.jump(self.goodbye)

    @label()
    def not_here(self):
        print(&quot;I get jumped over&quot;)

    @label()
    def goodbye(self):
        print(&quot;Goodbye&quot;)
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>|    Hello, world
|    Goodbye
</code></pre></div>
</div>
</div>
</div>
<h2 id="mast-and-pausing-the-flow">Mast and pausing the flow</h2>
<p>Mast is running as part of a game engine. The engine only give Mast a small amount of time to run. If Mast ran unconditionally it would not allow the engine to run and stall the game. However, there are times a story cannot continue until conditions are met. e.g. A comms button is press, a science scan it started etc.</p>
<p>Mast can "pause" execution and yield control back to the engine. The engine keeps calling MAst and it yields until the condition is met teh the flow can continue.</p>
<p>This example prints "Hello, world" and five seconds later it prints "Goodbye". During that five seconds the engine is able to run because Mast yields control back since it cannot move forward.</p>
<p>This ability to yield control back to the engine is a reason that Mast flow can be enable users to focus on the flow of the story and not how to get the programming lanuage to deal with this.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Mast</label><label for="__tabbed_3_2">py PyMast</label><label for="__tabbed_3_3">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>========= start =======
log &quot;Hello, world&quot;
delay gui 5s
log &quot;Goodbye&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>class Story(PyMastStory):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

    @label()
    def start(self):
        print(&quot;Hello, world&quot;)
        yield self.delay(5)
        print(&quot;Goodbye&quot;)
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>|    Hello, world
|    Goodbye
</code></pre></div>
</div>
</div>
</div>
<p>Yielding control is handled by Mast. If there ever is a time you need to force a yield you can us the Mast 'yeild' command. In PyMast the python keyword yield is used, however you must specify how to yield by providing a PollResults.OK_RUN_AGAIN. There are other types of yields in PyMast. This is not the time to detail those uses. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">mast</label><label for="__tabbed_4_2">PyMast</label><label for="__tabbed_4_3">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>========= start =======
log &quot;Hello, world&quot;
yield
log &quot;Goodbye&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>class Story(PyMastStory):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

    @label()
    def start(self):
        print(&quot;Hello, world&quot;)
        yield PollResults.OK_RUN_AGAIN
        print(&quot;Goodbye&quot;)
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>|    Hello, world
|    Goodbye
</code></pre></div>
</div>
</div>
</div>
<p>In future topics there will be other times descibed when Mast yields. Typically this is when MAst is waiting for something to occur. For example:</p>
<ul>
<li>time (e.g. the delay used in the examples)</li>
<li>awaiting a choice to be made in the gui </li>
<li>awaiting a comms button to be selected</li>
<li>awaiting a science scan </li>
</ul>
<h2 id="sub-plots-aka-tasks">Sub plots aka Tasks</h2>
<p>Mast is MULTI Agent Story Telling so each agent has their own story or event stories.</p>
<p>Mast allows multiple storylines to run in "parallel". </p>
<p>Mast in Artemis Cosmos is inherently a single thread of execution. These storylines do not run exactly in parallel, but you can run multiple things and make sure they run. These are called Tasks, and tasks can be scheduled so that multiple task can run.</p>
<p>For example a Player Ship can run a Task for handling Comms messages, another for Science scan. This player ship could in fact run multiple tasks for handling comms with different sets of ships.</p>
<p>These tasks themselves act as small side stories, They run as long as needed.</p>
<p>In mast tasks are scheduled in mast with a parallel jump, and in PyMast with a schedule_task</p>
<p>If you have programmed Artemis 2.x scripts, tasks are similar to the <event> tags. Unlike the <event> tags, task only run when needed. They are scheduled, and when they end they are unscheduled they can also be canceled.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">mast</label><label for="__tabbed_5_2">PyMast</label><label for="__tabbed_5_3">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>===== start ====
# Run another task
=&gt; count_to_ten
delay gui 15s
log &quot;done&quot;

===== count_to_ten ======
for x in range(10):
    log &quot;{x}&quot;
    yield
next x
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>class Story(PyMastStory):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

    @label()
    def start(self):
        self.schedule_task(self.count_to_ten)
        yield self.delay(15)

    @label()
    def count_to_ten(self):
        for x in range(10):
            print(x)
            yield PollResults.OK_RUN_AGAIN
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>|    1
|    2
|    3
|    4
|    5
|    6
|    7
|    8
|    9
|    10
|    done
</code></pre></div>
</div>
</div>
</div>
<h2 id="schedulers">Schedulers</h2>
<p>Mast and PyMast run all the tasks using schedulers. This process is mostly hidden to the writer of Mast and PyMast code.</p>
<p>Tasks are run on 'Schedulers' and to put it simply for now, the server and each Console has a scheduler. Additional scheduler can be created but typically the schedulers run associated with a console with the server running a large number of the tasks.</p>
<p>For example, the server runs a scheduler it may have a task for presenting its User Interface/GUI, and maybe have other task to manage the world creation, handing comms, science etc. Consoles typically have a scheduler an mostly as single task for the User Interface/GUI.</p>
<p>The more complex the script, the more tasks that will run. And if the complexity warrants more schedulers can be created. e.g. schedulers for each player ships etc.</p>
<p>When Artemis Cosmos calls the scripting engine, Mast/PyMast will run al the Schedulers and each scheduler runs all of its Tasks. </p>
<p>As tasks are finished, they are removed. If a scheduler runs and no longer has tasks it is removed.</p>
<h3 id="xml-events-vs-label-and-tasks">XML Events vs label, and tasks</h3>
<p>If you ever programmed Artemis 2.x, Tasks are similar to events.
XML is NOT supported, but used as examples for those familiar with Artemis 2.x scripting.</p>
<ul>
<li>
<p>XML events </p>
<ul>
<li>are always scheduled</li>
<li>and always run</li>
<li>never stop</li>
</ul>
</li>
<li>
<p>Tasks </p>
<ul>
<li>need to be scheduled or they don't run</li>
<li>They can end</li>
<li>They can be canceled</li>
</ul>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">XML</label><label for="__tabbed_6_2">mast</label><label for="__tabbed_6_3">PyMast</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">&lt;event</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;do_some_thing&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/event&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code># To schedule the task
schedule do_some_thing
# To end a task
-&gt;END


==== do_some_thing ====
log &quot;Hello&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>@label()
def start(self):
    self.schedule_task(self.do_some_thing)

@label()
def do_some_thing(self):
    self.log(&quot;Hello&quot;)
</code></pre></div>
</div>
</div>
</div>
<h3 id="setting-data-vs-xml-variable">Setting data vs. XML Variable</h3>
<p>Mast you can set data that is shared by the se:rver, all client consoles and all tasks.
You can scope data to the task. You can pass data to a task. This allows task to be scheduled multiple times.
PyMast has the added ability to scope data to a label since it is a function in python.</p>
<p>In contrast to XML event, you could <set_variable> that variable was always shared. Also, event did not have scoped data. Event could not be reused. This meant to schedule events multiple times, you had to copy and paste the event and create new variables. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">XML</label><label for="__tabbed_7_2">Mast</label><label for="__tabbed_7_3">PyMast</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">&lt;event</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;do_some_thing&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;some_data&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;some_data_one&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;some_data_two&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span><span class="w"> </span>
<span class="nt">&lt;/event&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code># create shared data
shared say_what = &quot;Hello&quot;
local_data = &quot;I&#39;m different&quot;

# When run outputs Hello, World So Long Goodbye
schedule do_some_thing {&quot;passed_data&quot;: &quot;World&quot;}
# When run outputs Hello, Cosmos So Long Goodbye
schedule do_some_thing {&quot;passed_data&quot;: &quot;Cosmos&quot;}

-&gt;END

==== do_some_thing ====
# set a local variable 
local_data = &quot;Goodbye&quot;

log &quot;{say_what}, {passed_data}&quot;
log &quot;{local_data}&quot;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>@label()
def start(self):
    # Shared data is added to the story
    self.say_what = &quot;Hello&quot;

    # When run out puts Hello, World So Long Goodbye
    self.schedule_task(self.do_some_thing, {&quot;passed_data&quot;: &quot;World&quot;})
    # When run out puts Hello, Cosmos So Long Goodbye
    self.schedule_task(self.do_some_thing, {&quot;passed_data&quot;: &quot;Cosmos&quot;})

@label()
def do_some_thing(self):
    # To share with the task
    # so it can be used in other labels run by this task
    self.task.local_data = &quot;So Long&quot;
    # a label is a function in python so it can also have
    # data local to the function/label
    label_data = &quot;Goodbye&quot;

    self.task.local_data = &quot;Goodbye&quot;
    self.log(&quot;{say_what}, {passed_data}&quot;)
    self.log(&quot;{self.task.local_data}&quot;)
    self.log(&quot;{label_data}&quot;)
</code></pre></div>
</div>
</div>
</div>
<h3 id="delaying-things-and-xml-timers">Delaying things and XML Timers</h3>
<p>There are times that a delay is needed before the next thing happens.
There are multiple reasons for this:</p>
<ul>
<li>pause between steps e.g. showing credits, spawning different waves of enemies</li>
<li>delay something to not overwhelm the users, periodically report game state</li>
</ul>
<p>Example one delaying credits.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">XML</label><label for="__tabbed_8_2">mast</label><label for="__tabbed_8_3">PyMast</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">&lt;start&gt;</span>
<span class="w">        </span>.<span class="w"> </span>.<span class="w"> </span>.
<span class="w">        </span><span class="nt">&lt;set_timer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits_timer&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">comparator=</span><span class="s">&quot;EQUALS&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/start&gt;</span>

<span class="w">    </span><span class="nt">&lt;event</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Credits 1&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_timer_finished</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits_timer&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">comparator=</span><span class="s">&quot;EQUALS&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;big_message</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;This is the first page of credits&quot;</span><span class="w"> </span><span class="na">subtitle2=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/event&gt;</span>
<span class="w">    </span><span class="nt">&lt;event</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Credits 2&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_timer_finished</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits_timer&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">comparator=</span><span class="s">&quot;EQUALS&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;big_message</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;This is the second page of credits&quot;</span><span class="w"> </span><span class="na">subtitle2=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/event&gt;</span>
<span class="w">    </span><span class="nt">&lt;event</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Credits 3&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_timer_finished</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits_timer&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;if_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">comparator=</span><span class="s">&quot;EQUALS&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;big_message</span><span class="w"> </span><span class="na">title=</span><span class="s">&quot;This is the third page of credits&quot;</span><span class="w"> </span><span class="na">subtitle2=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;set_variable</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;credits&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;999&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/event&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>==== show_credits ====

&quot;&quot;&quot; This is the first page of credits&quot;&quot;&quot;
await gui timeout 10s
&quot;&quot;&quot; This is the second page of credits&quot;&quot;&quot;
await gui timeout 10s
&quot;&quot;&quot; This is the third page of credits&quot;&quot;&quot;
await gui timeout 10s
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>@label()
def start(self):
    self.gui_text(&quot;this is the first page of credits&quot;)
    yield self.await_gui(timeout=10)
    self.gui_text(&quot;this is the second page of credits&quot;)
    yield self.await_gui(timeout=10)
    self.gui_text(&quot;this is the third page of credits&quot;)
    yield self.await_gui(timeout=10)
</code></pre></div>
</div>
</div>
</div>
<p>Another use is to spawn enemy waves.
The XML for this would be very verbose.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:3"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">xml</label><label for="__tabbed_9_2">mast</label><label for="__tabbed_9_3">PyMAst</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>&lt;Skipping/&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>==== spawn_wave ====
enemyTypeNameList = [&quot;kralien_dreadnaught&quot;,&quot;kralien_battleship&quot;,&quot;skaraan_defiler&quot;,&quot;cargo_ship&quot;,&quot;arvonian_carrier&quot;,&quot;torgoth_behemoth&quot;]
enemy_prefix = &quot;KLMNQ&quot;


# this gets a radom span location just outside the view of the sctor 
spawn_points = scatter_sphere(int(enemy_count), 0,0,0, 6000, 6000+250*enemy_count, ring=True)

for v in spawn_points:
    r_type = random.choice(enemyTypeNameList)
    r_name = f&quot;{random.choice(enemy_prefix)}_{enemy}&quot;
    spawn_data = npc_spawn(v.x, v.y, v.z, r_name, &quot;RAIDER&quot;, r_type, &quot;behav_npcship&quot;)
    raider = spawn_data.py_object
    do set_face(raider.id, random_kralien())
    do add_role(raider.id, &quot;Raider&quot;)
    enemy = enemy + 1
next v

delay sim 8m
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>@label()
def spawn_wave(self):
    enemyTypeNameList = [&quot;kralien_dreadnaught&quot;,&quot;kralien_battleship&quot;,&quot;skaraan_defiler&quot;,&quot;cargo_ship&quot;,&quot;arvonian_carrier&quot;,&quot;torgoth_behemoth&quot;]
    enemy_prefix = &quot;KLMNQ&quot;

    # this gets a radom span location just outside the view of the sctor 
    spawn_points = scatter_sphere(int(enemy_count), 0,0,0, 6000, 6000+250*enemy_count, ring=True)

    for v in spawn_points:
        r_type = random.choice(enemyTypeNameList)
        r_name = f&quot;{random.choice(enemy_prefix)}_{enemy}&quot;
        spawn_data = npc_spawn(v.x, v.y, v.z, r_name, &quot;RAIDER&quot;, r_type, &quot;behav_npcship&quot;)
        raider = spawn_data.py_object
        set_face(raider.id, random_kralien())
        add_role(raider.id, &quot;Raider&quot;)
        enemy = enemy + 1
    yield self.delay(8*60)
</code></pre></div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>